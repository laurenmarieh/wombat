<div class="container" *ngIf="edit">
  <div class="container new-experience-form">

    <div class="form-group">
      <label><app-speak [text]="'Enter a Title'"></app-speak></label>
      <input class="form-control" type="text" [(ngModel)]="newExperience.title" name="titleField" placeholder="Title" />
    </div>
    <div class="form-group">
      <label><app-speak [text]="'Enter a Location'"></app-speak></label>
      <input class="form-control" type="text" [(ngModel)]="newExperience.location" name="locationField" placeholder="Enter a Location" />
    </div>
    <div class="form-group">
      <label><app-speak [text]="'What was your experience?'"></app-speak></label>
      <textarea class="form-control" rows="3" [(ngModel)]="newExperience.text" name="statusText"></textarea>
    </div>
    <div class="row">
      <div class="rating-label"><app-speak [text]="'Rating'"></app-speak></div>
      <div class="btn-group rating">
        <button class="btn" (click)="setRating(1)">
          <span [class.fas]="newExperience.rating > 0" [class.far]="!newExperience.rating || newExperience.rating <= 0"
            class="fa-star"></span>
        </button>
        <button class="btn" (click)="setRating(2)">
          <span [class.fas]="newExperience.rating > 1" [class.far]="!newExperience.rating || newExperience.rating <= 1"
            class="fa-star"></span>
        </button>
        <button class="btn" (click)="setRating(3)">
          <span [class.fas]="newExperience.rating > 2" [class.far]="!newExperience.rating || newExperience.rating <= 2"
            class="fa-star"></span>
        </button>
        <button class="btn" (click)="setRating(4)">
          <span [class.fas]="newExperience.rating > 3" [class.far]="!newExperience.rating || newExperience.rating <= 3"
            class="fa-star"></span>
        </button>
        <button class="btn" (click)="setRating(5)">
          <span [class.fas]="newExperience.rating > 4" [class.far]="!newExperience.rating || newExperience.rating <= 4"
            class="fa-star"></span>
        </button>
      </div>
    </div>
    <tag-input [(ngModel)]="newExperience.tags" name="tagInput"></tag-input>
    <div class="row justify-content-end">
      <!-- On click of this button, post status -->
      <div class="col">
        <button class="btn btn-primary btn-md" (click)="postExperience()">Post</button>
      </div>

    </div>

  </div>
</div>
<div class="container">
  <button *ngIf="!edit" class="btn btn-primary add-experience" (click)="switchModes()">Add an Experience</button>

  <div *ngIf="experiences && experiences.length > 0" class="list-statuses clearfix">
    <div class="card" *ngFor="let experience of experiences">
      <div class="card-body">
        <h5 class="card-title"><label><app-speak [text]="'Title: ' + experience.title"></app-speak></label></h5>
        <h6 class="card-subtitle"><label><app-speak [text]="'Author: ' + experience.author"></app-speak></label></h6>
        <div class="card-text"><label><app-speak [text]="'Experience: ' + experience.text"></app-speak></label></div>
        <div>
          <span [class.fas]="experience.rating > 0" [class.far]="!experience.rating || experience.rating <= 0" class="fa-star"></span>
          <span [class.fas]="experience.rating > 1" [class.far]="!experience.rating || experience.rating <= 1" class="fa-star"></span>
          <span [class.fas]="experience.rating > 2" [class.far]="!experience.rating || experience.rating <= 2" class="fa-star"></span>
          <span [class.fas]="experience.rating > 3" [class.far]="!experience.rating || experience.rating <= 3" class="fa-star"></span>
          <span [class.fas]="experience.rating > 4" [class.far]="!experience.rating || experience.rating <= 4" class="fa-star"></span>
        </div>
        <div><label><app-speak [text]="'Location: ' + experience.location"></app-speak></label></div>
        <tag-input  [(ngModel)]="experience.tags" [hideForm]="true" [removable]="false"></tag-input>
      </div>
    </div>
  </div>
  <div *ngIf="!experiences || experiences.length <= 0">
    <app-speak [text]="'No Current Experiences'"></app-speak>
  </div>
</div>
